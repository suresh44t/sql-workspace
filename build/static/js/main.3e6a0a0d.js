(()=>{"use strict";var e,t,a,s={1937:(e,t,a)=>{a.d(t,{$s:()=>n,mockData:()=>d});var s=a(4535);const r=120,o=180,n=[{name:"id",type:"number",label:"ID",size:r},{name:"company",type:"string",label:"Company",size:o},{name:"department",type:"string",label:"Department",size:o},{name:"employee_count",type:"number",label:"Employee Count",size:r},{name:"revenue",type:"number",label:"Revenue ($)",size:o},{name:"location",type:"string",label:"Location",size:o},{name:"founded_year",type:"number",label:"Founded Year",size:r},{name:"ceo",type:"string",label:"CEO",size:220},{name:"industry",type:"string",label:"Industry",size:o},{name:"project_count",type:"number",label:"Projects",size:r},{name:"last_updated",type:"date",label:"Last Updated",size:o}],l=["Engineering","Sales","Marketing","Finance","HR","Product","Operations"],i=["Technology","Software","Cloud Services","Social Media","E-commerce"],c=["atlan","google","microsoft","meta","apple"],d=(()=>{const e=[];for(let a=0;a<1e4;a++){const r=c[a%c.length];e.push({id:a+1,company:r,department:s.Jb.helpers.arrayElement(l),employee_count:s.Jb.number.int({min:100,max:1e4}),revenue:s.Jb.number.int({min:1e6,max:1e9}),location:s.Jb.location.city(),founded_year:s.Jb.number.int({min:1990,max:2020}),ceo:s.Jb.person.fullName(),industry:s.Jb.helpers.arrayElement(i),project_count:s.Jb.number.int({min:10,max:1e3}),last_updated:(t=s.Jb.date.recent(),t.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}))})}var t;return e})()},5581:(e,t,a)=>{var s=a(5043),r=a(7051),o=a(45),n=a(579);const l=["variant","size","loading","disabled","className","children"],i=e=>{let{variant:t="primary",size:a="sm",loading:s=!1,disabled:i=!1,className:c="",children:d}=e,u=(0,o.A)(e,l);const m=["button","button-".concat(t),"button-".concat(a),s&&"is-loading",c].filter(Boolean).join(" ");return(0,n.jsxs)("button",(0,r.A)((0,r.A)({className:m,disabled:i||s},u),{},{children:[s&&(0,n.jsx)("span",{className:"button-spinner"}),(0,n.jsx)("span",{className:"button-text ".concat(s?"is-loading":""),children:d})]}))};i.displayName="Button";const c=e=>{let{error:t,title:a="Error",className:s=""}=e;const r=t instanceof Error?t.message:t;return(0,n.jsxs)("div",{className:"error-message ".concat(s).trim(),role:"alert","aria-label":a,children:[(0,n.jsx)("div",{className:"error-message-title",children:a}),(0,n.jsx)("div",{className:"error-message-content",children:r})]})};c.displayName="ErrorMessage";class d extends s.Component{constructor(){super(...arguments),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e,errorInfo:null}}componentDidCatch(e,t){var a,s;console.error("Error caught by boundary:",e,t),this.setState({errorInfo:t}),null===(a=(s=this.props).onError)||void 0===a||a.call(s,e,t)}render(){const{fallback:e,className:t="",children:a}=this.props;if(this.state.hasError){var s;const a=(0,n.jsx)("div",{className:"error-boundary ".concat(t).trim(),role:"alert",children:(0,n.jsx)(c,{title:"Component Error",error:(null===(s=this.state.error)||void 0===s?void 0:s.message)||"An unexpected error occurred"})});return e||a}return a}}const u=e=>{let{size:t="md",variant:a="primary",className:s=""}=e;return(0,n.jsx)("div",{className:"loading-spinner size-".concat(t," variant-").concat(a," ").concat(s).trim(),role:"progressbar","aria-label":"Loading",children:(0,n.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:[(0,n.jsx)("circle",{cx:"12",cy:"12",r:"10",opacity:"0.25"}),(0,n.jsx)("path",{d:"M12 2a10 10 0 0 1 10 10",opacity:"0.75"})]})})};u.displayName="LoadingSpinner";const m=e=>{let{isLoading:t=!1,className:a="",loadingMessage:s="Loading, please wait..."}=e;return t?(0,n.jsxs)("div",{className:"backdrop ".concat(a).trim(),role:"alert","aria-label":s,children:[(0,n.jsxs)("div",{className:"backdrop-content",children:[(0,n.jsx)(u,{size:"lg",variant:"primary"}),(0,n.jsx)("span",{className:"sr-only",children:s})]}),(0,n.jsx)("div",{className:"backdrop-overlay","aria-hidden":"true"})]}):null};m.displayName="LoadingBackdrop";const p=e=>{var t,a;let{options:r,value:o,onChange:l,placeholder:i="Select an option",size:c="md",variant:d="outlined",className:u="",disabled:m=!1,direction:p="down","aria-label":g}=e;const h=(0,s.useRef)(null),y=(0,s.useRef)(null),x=(0,s.useRef)(40),[b,v]=(0,s.useState)(!1),[f,j]=(0,s.useState)(0),[w,N]=(0,s.useState)(null);(0,s.useEffect)((()=>{if(y.current){let e=40;const t=y.current;for(const a of r)t.textContent=a.label,e=Math.max(e,t.offsetWidth+40);x.current=e,N(e)}}),[r]),(0,s.useEffect)((()=>{const e=e=>{h.current&&!h.current.contains(e.target)&&v(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)}),[]);const S=r.find((e=>e.value===o)),k=["select","select-".concat(c),"select-".concat(d),b&&"is-open",m&&"is-disabled","select-".concat(p),u].filter(Boolean).join(" ");return(0,n.jsxs)("div",{ref:h,className:k,onKeyDown:e=>{if(!m)switch(e.key){case"Enter":case" ":e.preventDefault(),b?(l(r[f].value),v(!1)):v(!0);break;case"ArrowUp":e.preventDefault(),b?j(Math.max(0,f-1)):v(!0);break;case"ArrowDown":e.preventDefault(),b?j(Math.min(r.length-1,f+1)):v(!0);break;case"Escape":b&&v(!1)}},tabIndex:m?-1:0,role:"combobox","aria-controls":"select-".concat((null===(t=r[0])||void 0===t?void 0:t.value)||"options"),"aria-expanded":b,"aria-haspopup":"listbox","aria-activedescendant":b?"select-option-".concat(f):void 0,"aria-label":g||"Select",style:{width:w?"".concat(w,"px"):void 0},children:[(0,n.jsx)("div",{ref:y,style:{position:"absolute",visibility:"hidden",whiteSpace:"nowrap",fontFamily:"inherit",fontSize:"inherit",fontWeight:"inherit"}}),(0,n.jsxs)("div",{className:"select-trigger",onClick:()=>!m&&v(!b),children:[(0,n.jsx)("span",{className:"select-value",children:S?S.label:i}),(0,n.jsx)("span",{className:"select-arrow","aria-hidden":"true"})]}),b&&!m&&(0,n.jsx)("div",{className:"select-dropdown",role:"listbox",id:"select-".concat((null===(a=r[0])||void 0===a?void 0:a.value)||"options"),"data-direction":p,children:r.map(((e,t)=>(0,n.jsx)("div",{className:["select-option",e.value===o&&"is-selected",t===f&&"is-highlighted"].filter(Boolean).join(" "),onClick:()=>{return t=e.value,l(t),void v(!1);var t},role:"option",id:"select-option-".concat(t),"aria-selected":e.value===o,children:e.label},e.value)))})]})};p.displayName="Select";const g=e=>{let{id:t,message:a,type:r,onClose:o,duration:l=5e3,className:i=""}=e;(0,s.useEffect)((()=>{const e=setTimeout((()=>o(t)),l);return()=>clearTimeout(e)}),[l,o,t]);const c=["toast","toast-".concat(r),i].filter(Boolean).join(" ");return(0,n.jsx)("div",{className:c,role:"error"===r?"alert":"status",children:(0,n.jsx)("div",{className:"toast-content",children:(0,n.jsx)("div",{className:"toast-message",children:a})})})};g.displayName="Toast";var h=a(9456);const y=()=>(0,h.wA)(),x=h.d4;var b=a(2216);const v={items:[],recentItems:[],maxItems:100,metadata:{totalItems:0,avgExecutionTime:0}},f=(0,b.Z0)({name:"history",initialState:v,reducers:{addItem(e,t){const a=t.payload;if(e.items.unshift(a),e.metadata.totalItems=e.items.length,a.executionTime){const t=e.items.reduce(((e,t)=>e+(t.executionTime||0)),0);e.metadata.avgExecutionTime=t/e.items.length}e.recentItems=e.items.slice(0,5),e.items.length>e.maxItems&&e.items.pop()},clearHistory:()=>v}}),{addItem:j,clearHistory:w}=f.actions,N=e=>e.history.items,S=e=>e.history.metadata,k=e=>e.history.recentItems,C=f.reducer;var E=a(192),T=a(1937);const L={data:null,status:"idle",error:null,metadata:{totalRows:0,executionTime:0}},D=(0,b.Z0)({name:"results",initialState:L,reducers:{setResults(e,t){e.data=(0,r.A)((0,r.A)({},t.payload),{},{columns:T.$s}),e.status="success",e.error=null},setLoading(e){e.status="loading",e.error=null},setError(e,t){e.status="error",e.error=t.payload},updateMetadata(e,t){e.metadata=(0,r.A)((0,r.A)({},e.metadata),t.payload)},clearResults:()=>L}}),{setResults:P,setLoading:z,setError:I,updateMetadata:q,clearResults:A}=D.actions,F=e=>e.results,M=(0,E.Mz)([F],(e=>{var t;return(null===(t=e.data)||void 0===t?void 0:t.results)||null})),R=(0,E.Mz)([F],(()=>T.$s)),Q=(0,E.Mz)([F],(e=>e.status)),O=(0,E.Mz)([F],(e=>e.error)),B=(0,E.Mz)([F],(e=>e.metadata)),H=D.reducer;var V=a(5852);const _=()=>(0,V.A)();var K=a(2450),J=a(1238);const W=(e,t,a)=>{if(null!=t&&t.length)switch(e){case"csv":((e,t)=>{const a=[t.map((e=>'"'.concat(e.label,'"'))).join(","),...e.map((e=>t.map((t=>{return'"'.concat(null==(a=e[t.name])?"":String(a),'"');var a})).join(",")))].join("\n"),s=new Blob([a],{type:"text/csv;charset=utf-8"});(0,K.saveAs)(s,"query-results-".concat((new Date).toISOString(),".csv"))})(t,a);break;case"xlsx":((e,t)=>{const a=t.map((e=>e.label)),s=e.map((e=>t.map((t=>e[t.name])))),r=J.Wp.aoa_to_sheet([a,...s]),o=J.Wp.book_new();J.Wp.book_append_sheet(o,r,"Results");const n=(0,J.M9)(o,{bookType:"xlsx",type:"array"}),l=new Blob([n],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"});(0,K.saveAs)(l,"query-results-".concat((new Date).toISOString(),".xlsx"))})(t,a);break;case"json":(e=>{const t=JSON.stringify(e,null,2),a=new Blob([t],{type:"application/json"});(0,K.saveAs)(a,"query-results-".concat((new Date).toISOString(),".json"))})(t)}},G={CLS:{good:.1,needsImprovement:.25,label:"Cumulative Layout Shift"},FID:{good:100,needsImprovement:300,label:"First Input Delay"},FCP:{good:1800,needsImprovement:3e3,label:"First Contentful Paint"},LCP:{good:2500,needsImprovement:4e3,label:"Largest Contentful Paint"},TTFB:{good:800,needsImprovement:1800,label:"Time to First Byte"}},U=(e,t)=>{switch(e){case"CLS":return t.toFixed(3);case"FID":case"FCP":case"LCP":case"TTFB":return t>=1e3?"".concat((t/1e3).toFixed(2),"s"):"".concat(t.toFixed(0),"ms");default:return t.toFixed(2)}},$=e=>e.replace(/\[\d+m|\[\d+;\d+m/g,""),Z=(e,t)=>{const a=G[e],[s,r]=((e,t)=>{const a=G[e];return t<=a.good?["Good","#4caf50"]:t<=a.needsImprovement?["Needs Improvement","#ff9800"]:["Poor","#f44336"]})(e,t),o=a.good,n=t-o,l=U(e,t),i=U(e,o),c=U(e,n),d={"#4caf50":"[32m","#ff9800":"[33m","#f44336":"[31m",reset:"[0m"},u=d[r]||"",{reset:m}=d,p="".concat(u).concat(l).concat(m),g="".concat(u).concat(s).concat(m),h="".concat(u).concat(c).concat(m),y={Metric:e,Value:$(p),Threshold:i,Difference:$(h),Status:$(g)},x=Object.keys(y),b=x.map((e=>Math.max(e.length,y[e].length))),v=(e,t)=>e+" ".repeat(t-$(e).length),f="│ ".concat(x.map(((e,t)=>v(e,b[t]))).join(" │ ")," │"),j="├".concat(b.map((e=>"─".repeat(e+2))).join("┼"),"┤"),w="│ ".concat([v(e,b[0]),v(p,b[1]),v(i,b[2]),v(h,b[3]),v(g,b[4])].join(" │ ")," │"),N="┌".concat(b.map((e=>"─".repeat(e+2))).join("┬"),"┐"),S="└".concat(b.map((e=>"─".repeat(e+2))).join("┴"),"┘"),k=a.label||e;console.group("Web Vital: ".concat(k," (").concat(e,")")),console.log([N,f,j,w,S].join("\n")),console.groupEnd()},Y={text:"",isValid:!1,isDirty:!1,language:"sql",lastQuery:""},X=(0,b.Z0)({name:"query",initialState:Y,reducers:{setQuery(e,t){e.text=t.payload,e.isDirty=!0},setValidity(e,t){e.isValid=t.payload},setLanguage(e,t){e.language=t.payload},resetDirty(e){e.isDirty=!1,e.lastQuery=e.text},resetQuery:()=>Y}}),{setQuery:ee,setValidity:te,setLanguage:ae,resetDirty:se,resetQuery:re}=X.actions,oe=()=>async(e,t)=>{const s=t(),{text:o,isValid:n}=s.query;if(o.trim()&&n)try{e(se()),e(z()),await new Promise((e=>setTimeout(e,1e3)));const t=o.match(/select \* from (\w+)/i);if(!t)throw new Error("Invalid query format. Expected: select * from companyName");const n=t[1].toLowerCase(),{mockData:l}=await Promise.resolve().then(a.bind(a,1937)),i="pega"===n?l:l.filter((e=>e.company===n));if(0===i.length)throw new Error("No records found for company: ".concat(n));const c={results:i,columns:Object.entries(i[0]).map((e=>{let[t,a]=e;return{name:t,label:t.charAt(0).toUpperCase()+t.slice(1),size:150,type:"number"==typeof a?"number":"boolean"==typeof a?"boolean":"string"==typeof a&&/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}/.test(a)?"datetime":"string"}})),timestamp:Date.now()};e(P(c)),e(q({totalRows:i.length,executionTime:1}));const d=1,u={text:o,timestamp:Date.now(),language:s.query.language,executionTime:d,rowCount:i.length};e(j((0,r.A)((0,r.A)({},u),{},{id:_()})))}catch(t){e(I(t instanceof Error?t.message:"An error occurred"))}},ne=e=>e.query.text,le=e=>e.query.isValid,ie=e=>e.query.language,ce=e=>e.query.isDirty,de=e=>e.query.lastQuery,ue=X.reducer,me=(0,b.Z0)({name:"toast",initialState:{items:[],limit:5,stats:{total:0,byType:{success:0,error:0,warning:0,info:0}}},reducers:{addToast:(e,t)=>{const a=(0,r.A)((0,r.A)({},t.payload),{},{id:_()});if(e.items.push(a),e.stats.total++,e.stats.byType[a.type]++,e.items.length>e.limit){const t=e.items.shift();t&&(e.stats.total--,e.stats.byType[t.type]--)}},removeToast:(e,t)=>{const a=e.items.find((e=>e.id===t.payload));a&&(e.items=e.items.filter((e=>e.id!==t.payload)),e.stats.total--,e.stats.byType[a.type]--)},clearToasts:e=>{e.items=[],e.stats={total:0,byType:{success:0,error:0,warning:0,info:0}}}}}),{addToast:pe,removeToast:ge,clearToasts:he}=me.actions,ye=e=>e.toast.items,xe=((0,E.Mz)([e=>e.toast.items,(e,t)=>t],((e,t)=>e.slice(-t))),(0,E.Mz)([ye],(e=>e[e.length-1]||null))),be=(0,E.Mz)([ye],(e=>e.reduce(((e,t)=>(e[t.type]=e[t.type]||[],e[t.type].push(t),e)),{}))),ve=(0,E.Mz)([ye],(e=>({total:e.length,byType:{success:e.filter((e=>"success"===e.type)).length,error:e.filter((e=>"error"===e.type)).length,warning:e.filter((e=>"warning"===e.type)).length,info:e.filter((e=>"info"===e.type)).length}}))),fe=me.reducer,je=()=>{const e=x(ne),t=x(le),a=x(ce),r=x(ie),o=x(de),n=y(),l=(0,s.useCallback)((e=>{n(ee(e))}),[n]),i=(0,s.useCallback)((e=>{n(te(e))}),[n]),c=(0,s.useCallback)((()=>{n(se())}),[n]),d=(0,s.useCallback)((e=>{n(ae(e))}),[n]),u=(0,s.useCallback)((async()=>{e.trim()&&t&&(e.trim()!==o.trim()?await n(oe()):n(pe({type:"warning",message:"This query was just executed. Results are unchanged.",duration:3e3})))}),[n,e,t,o]),m=(0,s.useCallback)((async t=>{e!==t?t!==o?(l(t),i(!0),await n(oe())):n(pe({type:"warning",message:"This query matches the most recent execution. Results are unchanged.",duration:3e3})):n(pe({type:"warning",message:"This query is already in the editor.",duration:3e3}))}),[l,i,e,o,n]);return{text:e,isValid:t,isDirty:a,language:r,lastQuery:o,setText:l,setValidity:i,resetDirty:c,setLanguage:d,executeQuery:u,loadQuery:m}},we=()=>{const e=x(M),t=x(R),a=x(Q),s=x(O),r=x(B),o=y();return{results:e,columns:t,status:a,error:s,metadata:r,setResults:e=>{o(P(e))},clearResults:()=>{o(A())},exportData:a=>{e&&t&&W(a,e,t)}}},Ne=(0,s.memo)((e=>{let{className:t=""}=e;const{items:a,metadata:o}=(()=>{const e=x(N),t=x(S),a=x(k),o=x(ne),n=x(ie),l=y();return{items:e,metadata:t,recentItems:a,addToHistory:(0,s.useCallback)((e=>{const t=(0,r.A)({id:_(),text:o,timestamp:Date.now(),language:n},e);l(j(t))}),[l,o,n]),clearHistory:()=>{l(w())}}})(),{text:l,loadQuery:i}=je(),{status:c}=we(),d="loading"===c,u=(0,s.useCallback)(((e,t)=>{const s=document.querySelectorAll(".history-item");let r=-1;switch(e.key){case"ArrowDown":e.preventDefault(),r=t<a.length-1?t+1:-1;break;case"ArrowUp":e.preventDefault(),r=t>0?t-1:-1}if(-1!==r){const e=s[r];null==e||e.focus()}}),[a.length]),p=(0,s.useCallback)((e=>{i(e.text)}),[i]);return(0,n.jsxs)("div",{id:"history",className:"history ".concat(t).trim(),role:"complementary","aria-label":"Query History",children:[(0,n.jsxs)("h2",{className:"history-header",id:"history-title",children:["Query History ",o.totalItems>0&&"(".concat(o.totalItems,")")]}),(0,n.jsx)("div",{className:"history-list",role:"list","aria-labelledby":"history-title",children:0===a.length?(0,n.jsx)("div",{className:"history-empty",role:"alert",children:"No queries executed yet"}):a.map(((e,t)=>(0,n.jsxs)("div",{className:"history-item ".concat(e.executionTime?"is-success":""," ").concat(0===t?"is-latest":""),onClick:()=>p(e),onKeyDown:a=>{u(a,t),"Enter"!==a.key&&" "!==a.key||(a.preventDefault(),p(e))},role:"button",tabIndex:0,"aria-label":"".concat(0===t?"Latest query":"Previous query",": ").concat(e.text),"aria-current":0===t?"true":void 0,"aria-disabled":e.text===l,children:[(0,n.jsxs)("div",{className:"history-item-header",children:[(0,n.jsx)("div",{className:"history-item-time",children:new Date(e.timestamp).toLocaleTimeString()}),void 0!==e.rowCount&&(0,n.jsxs)("div",{className:"history-item-rows",children:[e.rowCount.toLocaleString()," rows"]}),void 0!==e.executionTime&&(0,n.jsxs)("div",{className:"history-item-duration",children:[Math.round(e.executionTime),"ms"]})]}),(0,n.jsx)("div",{className:"history-item-query",children:e.text})]},e.id)))}),d&&(0,n.jsx)(m,{isLoading:!0})]})}));Ne.displayName="HistoryContent";const Se=e=>(0,n.jsx)(d,{onError:e=>{console.error("History Error:",e)},children:(0,n.jsx)(Ne,(0,r.A)({},e))});Se.displayName="History";var ke=a(3398),Ce=a(7680),Ee=a(6019);const Te=(0,s.memo)((e=>{let{className:t=""}=e;const{text:a,isValid:r,setText:o,setValidity:l,executeQuery:c}=je(),{status:d}=we(),u="loading"===d,g=(0,s.useCallback)((e=>{if(u)return;o(e);const t=e.trim(),a=/^select \* from \w+$/i.test(t);l(a)}),[u,o,l]),h=(0,s.useCallback)((()=>{a.trim()&&r&&!u&&c()}),[a,r,u,c]),y=(0,s.useCallback)((e=>{(e.metaKey||e.ctrlKey)&&"Enter"===e.key&&(e.preventDefault(),h())}),[h]),x=[{value:"",label:"Select a predefined SQL query"},...["pega","atlan","google","microsoft","meta","apple"].map((e=>({value:"select * from ".concat(e),label:"SELECT * FROM ".concat(e.toUpperCase())})))];return(0,n.jsxs)("section",{id:"query-editor",className:"query ".concat(t).trim(),"aria-label":"SQL Query Editor",children:[(0,n.jsxs)("div",{className:"query-editor",role:"group","aria-labelledby":"editor-label",children:[(0,n.jsx)("label",{id:"editor-label",className:"sr-only",children:"SQL Query Input"}),(0,n.jsx)(ke.Ay,{value:a,theme:Ee.jL,extensions:[(0,Ce.ll)()],onChange:g,onKeyDown:y,basicSetup:{lineNumbers:!0,highlightActiveLine:!0,highlightActiveLineGutter:!0,foldGutter:!1,dropCursor:!0,allowMultipleSelections:!0,indentOnInput:!0,tabSize:2},editable:!u,height:"200px",minHeight:"200px","aria-invalid":!r&&!!a})]}),(0,n.jsxs)("div",{className:"query-actions",role:"toolbar","aria-label":"SQL Query Actions",children:[(0,n.jsx)(p,{options:x,value:a,onChange:(0,s.useCallback)((e=>{o(e),l(!!e)}),[o,l]),placeholder:"Select a predefined SQL query",size:"sm",variant:"outlined",disabled:u,"aria-label":"Select a predefined SQL query template"}),(0,n.jsx)(i,{onClick:()=>{o(""),l(!1)},variant:"outlined",disabled:!a.trim(),"aria-label":"Reset SQL query input",children:"Reset"}),(0,n.jsx)(i,{onClick:h,disabled:!a.trim()||!r,"aria-label":"Execute SQL query",children:"Execute Query"})]}),u&&(0,n.jsx)(m,{isLoading:!0,loadingMessage:"Executing SQL query, please wait..."})]})}));Te.displayName="QueryContent";const Le=e=>(0,n.jsx)(d,{onError:e=>{console.error("SQL Query Editor Error:",e)},children:(0,n.jsx)(Te,(0,r.A)({},e))});Le.displayName="Query";var De=a(8931),Pe=a(7111),ze=a(5262);const Ie=e=>{let{onExport:t,disabled:a=!1,"aria-label":s,"aria-controls":r}=e;const o=(e,a)=>{"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),t(a))};return(0,n.jsx)("div",{className:"results-export",role:"group","aria-label":s||"Export options","aria-controls":r,children:(0,n.jsxs)("div",{className:"results-export-buttons",children:[(0,n.jsx)(i,{onClick:()=>t("csv"),onKeyDown:e=>o(e,"csv"),disabled:a,size:"sm","aria-label":"Export as CSV",children:"Export CSV"}),(0,n.jsx)(i,{onClick:()=>t("xlsx"),onKeyDown:e=>o(e,"xlsx"),disabled:a,size:"sm","aria-label":"Export as Excel",children:"Export Excel"}),(0,n.jsx)(i,{onClick:()=>t("json"),onKeyDown:e=>o(e,"json"),disabled:a,size:"sm","aria-label":"Export as JSON",children:"Export JSON"})]})})};Ie.displayName="ResultsExport";const qe=e=>{let{globalFilter:t,onGlobalFilterChange:a,onExport:s,allowExport:r=!0,disabled:o=!1}=e;const l=e=>{a(e)};return(0,n.jsxs)("div",{className:"results-toolbar",role:"toolbar","aria-label":"Results controls",children:[(0,n.jsxs)("div",{className:"results-search-wrapper",role:"search",children:[(0,n.jsx)("label",{className:"sr-only",children:"Search results"}),(0,n.jsx)("input",{type:"search",value:t||"",onChange:e=>l(e.target.value),onKeyDown:e=>{"Escape"===e.key&&t&&(e.preventDefault(),l(""),e.currentTarget.blur())},placeholder:"Search results...",className:"results-toolbar-search","aria-label":"Search results",disabled:o})]}),r&&(0,n.jsx)(Ie,{onExport:s,disabled:o,"aria-label":"Export options"})]})};qe.displayName="ResultsToolbar";const Ae=qe,Fe=[25,50,100,250,500],Me=e=>{let{pageIndex:t,pageCount:a,pageSize:r,canPreviousPage:o,canNextPage:l,onPageSizeChange:c,onPageChange:d,onPreviousPage:u,onNextPage:m}=e;const g=(0,s.useMemo)((()=>Fe.map((e=>({value:e.toString(),label:"Show ".concat(e," rows per page")})))),[]),h=(0,s.useCallback)((e=>{c(Number(e))}),[c]);return(0,n.jsxs)("nav",{className:"results-pagination",role:"navigation","aria-label":"Results pagination",onKeyDown:e=>{switch(e.key){case"ArrowLeft":o&&(e.preventDefault(),u());break;case"ArrowRight":l&&(e.preventDefault(),m())}},children:[(0,n.jsx)("div",{className:"results-pagination-size",children:(0,n.jsx)(p,{options:g,value:r.toString(),onChange:h,size:"sm",variant:"outlined",direction:"up",disabled:0===a,"aria-label":"Select rows per page"})}),(0,n.jsxs)("div",{className:"results-pagination-nav",children:[(0,n.jsx)(i,{size:"sm",variant:"outlined",onClick:()=>d(0),disabled:!o,"aria-label":"First page",children:"<<"}),(0,n.jsx)(i,{size:"sm",variant:"outlined",onClick:u,disabled:!o,"aria-label":"Previous page",children:"<"}),(0,n.jsx)("span",{className:"results-pagination-info",children:0===a?"Page 0 of 0":"Page ".concat(t+1," of ").concat(a)}),(0,n.jsx)(i,{size:"sm",variant:"outlined",onClick:m,disabled:!l,"aria-label":"Next page",children:">"}),(0,n.jsx)(i,{size:"sm",variant:"outlined",onClick:()=>d(a-1),disabled:!l,"aria-label":"Last page",children:">>"})]})]})};Me.displayName="ResultsPagination";const Re=Me,Qe=(0,s.memo)((e=>{let{config:t={allowExport:!0},className:a=""}=e;const[r,o]=(0,s.useState)([]),[l,i]=(0,s.useState)([]),[d,u]=(0,s.useState)(""),[p,g]=(0,s.useState)({pageIndex:0,pageSize:100}),h=(0,s.useRef)(null),y=(0,s.useRef)(null),{results:x,columns:b,status:v,error:f}=we(),j="loading"===v,w=(0,s.useMemo)((()=>b.map((e=>({id:e.name,accessorKey:e.name,header:e.label,size:e.size})))),[b]),N=(0,s.useMemo)((()=>x||[]),[x]),S=(0,De.N4)({data:N,columns:w,state:{sorting:r,columnFilters:l,globalFilter:d,pagination:p},onSortingChange:o,onColumnFiltersChange:i,onGlobalFilterChange:u,onPaginationChange:g,getCoreRowModel:(0,Pe.HT)(),getSortedRowModel:(0,Pe.h5)(),getFilteredRowModel:(0,Pe.hM)(),getPaginationRowModel:(0,Pe.kW)(),enableSorting:!0}),{rows:k}=S.getRowModel(),C=(0,ze.Te)({count:k.length,getScrollElement:()=>h.current,estimateSize:()=>40,overscan:5}),E=(0,s.useCallback)((e=>{null!=x&&x.length&&W(e,x,b)}),[x,b]);return(0,n.jsxs)("section",{id:"results",className:"results ".concat(a).trim(),"aria-label":"Query Results",children:[(0,n.jsxs)("div",{className:"results-content",role:"grid",tabIndex:0,children:[(0,n.jsx)(Ae,{globalFilter:d,onGlobalFilterChange:u,onExport:E,allowExport:t.allowExport,disabled:!(null!=x&&x.length)}),(0,n.jsxs)("div",{className:"results-table",children:[k.length?(0,n.jsx)("div",{ref:y,className:"results-table-header",role:"rowgroup",children:S.getHeaderGroups().map((e=>(0,n.jsx)("div",{className:"results-header",children:e.headers.map((e=>(0,n.jsxs)("div",{className:"results-header-cell",style:{width:e.getSize()},onClick:e.column.getToggleSortingHandler(),children:[String(e.column.columnDef.header),e.column.getIsSorted()&&(0,n.jsx)("span",{className:"results-header-sort is-".concat(e.column.getIsSorted()),children:"asc"===e.column.getIsSorted()?"↑":"↓"})]},e.id)))},e.id)))}):null,(0,n.jsx)("div",{ref:h,className:"results-table-body",role:"rowgroup",onScroll:()=>{y.current&&h.current&&(y.current.scrollLeft=h.current.scrollLeft)},children:f?(0,n.jsx)(c,{error:f,title:"Query Results Error"}):k.length?C.getVirtualItems().map((e=>{const t=k[e.index];return(0,n.jsx)("div",{className:"results-row",role:"row",style:{position:"absolute",top:0,left:0,width:"100%",height:"".concat(e.size,"px"),transform:"translateY(".concat(e.start,"px)")},children:t.getVisibleCells().map((e=>(0,n.jsx)("div",{className:"results-cell",role:"cell",style:{width:e.column.getSize()},children:String(e.getValue())},e.id)))},t.id)})):(0,n.jsx)("div",{className:"results-empty",children:"No Results Found"})})]}),(0,n.jsx)(Re,{pageIndex:p.pageIndex,pageCount:S.getPageCount(),pageSize:p.pageSize,canPreviousPage:S.getCanPreviousPage(),canNextPage:S.getCanNextPage(),onPageSizeChange:e=>S.setPageSize(e),onPageChange:e=>S.setPageIndex(e),onPreviousPage:()=>S.previousPage(),onNextPage:()=>S.nextPage()})]}),j&&(0,n.jsx)(m,{isLoading:!0,loadingMessage:"Loading query results..."})]})}));Qe.displayName="ResultsContent";const Oe=e=>(0,n.jsx)(d,{onError:e=>{console.error("Results Error:",e)},children:(0,n.jsx)(Qe,(0,r.A)({},e))});Oe.displayName="Results";const Be=()=>{const{toasts:e,remove:t}=(()=>{const e=y(),t=x(ye),a=x(xe),o=x(be),n=x(ve),l=(0,s.useCallback)((function(t,a){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=(0,r.A)({type:a,message:t},s);e(pe(o))}),[e]);return{toasts:t,latestToast:a,toastsByType:o,stats:n,remove:t=>{e(ge(t))},clear:()=>{e(he())},success:(e,t)=>l(e,"success",t),error:(e,t)=>l(e,"error",t),warning:(e,t)=>l(e,"warning",t),info:(e,t)=>l(e,"info",t)}})();return e.length?(0,n.jsx)("div",{className:"toasts",role:"complementary","aria-label":"Notifications",children:e.slice().reverse().map((e=>(0,n.jsx)(g,(0,r.A)((0,r.A)({},e),{},{onClose:t}),e.id)))}):null};Be.displayName="ToastsContent";const He=()=>(0,n.jsx)(d,{onError:e=>{console.error("Toasts Error:",e)},children:(0,n.jsx)(Be,{})});He.displayName="Toasts";const Ve=e=>{let{className:t=""}=e;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("nav",{className:"skip-links","aria-label":"Skip to main sections",children:[(0,n.jsx)("a",{href:"#query",className:"skip-link",children:"Skip to Query"}),(0,n.jsx)("a",{href:"#results",className:"skip-link",children:"Skip to Results"}),(0,n.jsx)("a",{href:"#history",className:"skip-link",children:"Skip to History"})]}),(0,n.jsxs)("main",{className:"workspace ".concat(t).trim(),role:"main","aria-label":"SQL Query Workspace",onKeyDown:e=>{if((e.altKey||e.metaKey)&&["1","2","3"].includes(e.key)){e.preventDefault();const t=document.querySelector("#".concat("1"===e.key?"query":"2"===e.key?"results":"history"));null==t||t.focus()}var t;"Escape"===e.key&&(e.preventDefault(),null===(t=document.querySelector("#query"))||void 0===t||t.focus())},children:[(0,n.jsxs)("div",{className:"workspace-main",role:"region","aria-label":"Main Editor and Results Area",children:[(0,n.jsx)(Le,{}),(0,n.jsx)(Oe,{config:{allowExport:!0}})]}),(0,n.jsx)("aside",{className:"workspace-aside","aria-label":"Query History Panel",children:(0,n.jsx)(Se,{})})]})]})};Ve.displayName="WorkspaceContent";const _e=e=>(0,n.jsx)(d,{onError:e=>{console.error("Workspace Error:",e)},children:(0,n.jsx)(Ve,(0,r.A)({},e))});_e.displayName="Workspace";const Ke=(0,b.U1)({reducer:{query:ue,results:H,history:C,toast:fe}}),Je=()=>(0,n.jsx)(h.Kq,{store:Ke,children:(0,n.jsxs)("div",{className:"app",children:[(0,n.jsx)(_e,{}),(0,n.jsx)(He,{})]})});var We=a(4391);const Ge=document.getElementById("root");if(!Ge)throw new Error("Failed to find the root element");var Ue;(0,We.H)(Ge).render((0,n.jsx)(s.StrictMode,{children:(0,n.jsx)(h.Kq,{store:Ke,children:(0,n.jsx)(Je,{})})})),(Ue=console.log)&&Ue instanceof Function&&a.e(488).then(a.bind(a,2488)).then((e=>{let{getCLS:t,getFID:a,getFCP:s,getLCP:r,getTTFB:o}=e;t((e=>{Z("CLS",e.value)})),a((e=>{Z("FID",e.value)})),s((e=>{Z("FCP",e.value)})),r((e=>{Z("LCP",e.value)})),o((e=>{Z("TTFB",e.value)}))}))}},r={};function o(e){var t=r[e];if(void 0!==t)return t.exports;var a=r[e]={exports:{}};return s[e].call(a.exports,a,a.exports,o),a.exports}o.m=s,e=[],o.O=(t,a,s,r)=>{if(!a){var n=1/0;for(d=0;d<e.length;d++){a=e[d][0],s=e[d][1],r=e[d][2];for(var l=!0,i=0;i<a.length;i++)(!1&r||n>=r)&&Object.keys(o.O).every((e=>o.O[e](a[i])))?a.splice(i--,1):(l=!1,r<n&&(n=r));if(l){e.splice(d--,1);var c=s();void 0!==c&&(t=c)}}return t}r=r||0;for(var d=e.length;d>0&&e[d-1][2]>r;d--)e[d]=e[d-1];e[d]=[a,s,r]},o.d=(e,t)=>{for(var a in t)o.o(t,a)&&!o.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},o.f={},o.e=e=>Promise.all(Object.keys(o.f).reduce(((t,a)=>(o.f[a](e,t),t)),[])),o.u=e=>"static/js/"+e+".6bbaa091.chunk.js",o.miniCssF=e=>{},o.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),t={},a="sql-workspace:",o.l=(e,s,r,n)=>{if(t[e])t[e].push(s);else{var l,i;if(void 0!==r)for(var c=document.getElementsByTagName("script"),d=0;d<c.length;d++){var u=c[d];if(u.getAttribute("src")==e||u.getAttribute("data-webpack")==a+r){l=u;break}}l||(i=!0,(l=document.createElement("script")).charset="utf-8",l.timeout=120,o.nc&&l.setAttribute("nonce",o.nc),l.setAttribute("data-webpack",a+r),l.src=e),t[e]=[s];var m=(a,s)=>{l.onerror=l.onload=null,clearTimeout(p);var r=t[e];if(delete t[e],l.parentNode&&l.parentNode.removeChild(l),r&&r.forEach((e=>e(s))),a)return a(s)},p=setTimeout(m.bind(null,void 0,{type:"timeout",target:l}),12e4);l.onerror=m.bind(null,l.onerror),l.onload=m.bind(null,l.onload),i&&document.head.appendChild(l)}},o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.p="/",(()=>{var e={792:0};o.f.j=(t,a)=>{var s=o.o(e,t)?e[t]:void 0;if(0!==s)if(s)a.push(s[2]);else{var r=new Promise(((a,r)=>s=e[t]=[a,r]));a.push(s[2]=r);var n=o.p+o.u(t),l=new Error;o.l(n,(a=>{if(o.o(e,t)&&(0!==(s=e[t])&&(e[t]=void 0),s)){var r=a&&("load"===a.type?"missing":a.type),n=a&&a.target&&a.target.src;l.message="Loading chunk "+t+" failed.\n("+r+": "+n+")",l.name="ChunkLoadError",l.type=r,l.request=n,s[1](l)}}),"chunk-"+t,t)}},o.O.j=t=>0===e[t];var t=(t,a)=>{var s,r,n=a[0],l=a[1],i=a[2],c=0;if(n.some((t=>0!==e[t]))){for(s in l)o.o(l,s)&&(o.m[s]=l[s]);if(i)var d=i(o)}for(t&&t(a);c<n.length;c++)r=n[c],o.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return o.O(d)},a=self.webpackChunksql_workspace=self.webpackChunksql_workspace||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))})();var n=o.O(void 0,[788,957,695,145],(()=>o(5581)));n=o.O(n)})();
//# sourceMappingURL=main.3e6a0a0d.js.map